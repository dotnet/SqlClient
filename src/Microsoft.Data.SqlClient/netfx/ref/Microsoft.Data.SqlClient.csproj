<Project Sdk="Microsoft.NET.Sdk">
  <PropertyGroup>
    <EnableDefaultCompileItems>false</EnableDefaultCompileItems>
    <TargetFramework>net462</TargetFramework>
    <IntermediateOutputPath>$(ObjFolder)$(Configuration)\$(AssemblyName)\ref\</IntermediateOutputPath>
    <OutputPath>$(BinFolder)$(Configuration)\$(AssemblyName)\ref\</OutputPath>
    <DocumentationFile>$(OutputPath)\Microsoft.Data.SqlClient.xml</DocumentationFile>
    <Product>Framework $(BaseProduct)</Product>
    <Configurations>Debug;Release</Configurations>
  </PropertyGroup>
  <!--Generating Strong Name-->
  <PropertyGroup Condition="$(CDP_BUILD_TYPE)==Official">
    <SignAssembly>true</SignAssembly>
    <KeyFile>$(SigningKeyPath)</KeyFile>
    <AssemblyOriginatorKeyFile>$(SigningKeyPath)</AssemblyOriginatorKeyFile>
  </PropertyGroup>
  <PropertyGroup Condition="$(CDP_BUILD_TYPE)!=Official">
    <AssemblyOriginatorKeyFile>$(SigningKeyPath)</AssemblyOriginatorKeyFile>
  </PropertyGroup>
  <ItemGroup>
    <Compile Include="Microsoft.Data.SqlClient.cs" />
  </ItemGroup>
  <ItemGroup>
    <Reference Include="System" />
    <Reference Include="System.Configuration" />
    <Reference Include="System.Runtime.Serialization" />
    <Reference Include="System.Security" />
    <Reference Include="System.Data" />
    <Reference Include="System.Xml" />
    <Reference Include="System.Runtime.Caching" />
    <Reference Include="System.Transactions" />
    <Reference Include="System.EnterpriseServices" />
  </ItemGroup>
  <ItemGroup>
    <PackageReference Include="Azure.Core" />
    <PackageReference Include="Azure.Identity" />
    <PackageReference Include="Microsoft.Data.SqlClient.SNI">
      <PrivateAssets>All</PrivateAssets>
      <IncludeAssets>runtime; build; native; contentfiles; analyzers; buildtransitive</IncludeAssets>
    </PackageReference>
    <PackageReference Include="Microsoft.Extensions.Caching.Memory" />
    <PackageReference Include="Microsoft.Identity.Client" />
    <PackageReference Include="Microsoft.IdentityModel.JsonWebTokens" />
    <PackageReference Include="Microsoft.IdentityModel.Protocols.OpenIdConnect" />
    <PackageReference Include="System.Buffers" />
    <!--
      We must reference System.Data.Common explicitly because we use its
      IDbColumnSchemaGenerator type that isn't included in .NET Framework
      4.6.2 or 4.7.  This avoids downstream apps from having to include it
      themselves if they happen to target those older .NET Framework versions.
    -->
    <PackageReference Include="System.Data.Common" />
    <PackageReference Include="System.Diagnostics.DiagnosticSource" />    
    <PackageReference Include="System.IdentityModel.Tokens.Jwt" />
    <PackageReference Include="System.Memory" />
    <!--
      Although System.Security.Cryptography.Pkcs is included in all .NET
      Framework versions we target, the latest implementations of the types we
      use are found in the NuGet package, so we reference it explicitly.
    -->
    <PackageReference Include="System.Security.Cryptography.Pkcs" />
    <PackageReference Include="System.Text.Json" />
    <!--
      We must reference System.Text.RegularExpressions to avoid a transitive
      vulnerability from System.Data.Common 4.3.0.
    -->
    <PackageReference Include="System.Text.RegularExpressions" />
  </ItemGroup>
  <Import Project="$(ToolsDir)targets\TrimDocsForIntelliSense.targets" />
</Project>
