# Release Notes

## Microsoft.Data.SqlClient 5.1.8 - November 12, 2025

This update brings the following changes since the [5.1.7](5.1.7.md) release:

### Fixed

- Fixed a bulk copy bug that incorrectly prepended a UTF-8 Byte-Order-Marker
  when processing row data.
  ([#3617](https://github.com/dotnet/SqlClient/pull/3617))
- Fixed Basic Availability Group failover to ignore server-supplied failover
  host and use connection string host based on a new AppContext switch.
  ([#3704](https://github.com/dotnet/SqlClient/pull/3704))

### Changed

- Modernized creation of `Microsoft.Identity.Client.PublicClientApplication`
  instances to use its builder pattern.
  ([#3367](https://github.com/dotnet/SqlClient/pull/3367))
- Replaced use of undocumented .NET Framework internals when reading `SqlDecimal` values.
  ([#3465](https://github.com/dotnet/SqlClient/pull/3465))
- Back-ported several test and pipeline changes to stabilize CI and Official pipelines.
  ([#3599](https://github.com/dotnet/SqlClient/pull/3599),
   [#3494](https://github.com/dotnet/SqlClient/pull/3494),
   [#3591](https://github.com/dotnet/SqlClient/pull/3591),
   [#3204](https://github.com/dotnet/SqlClient/pull/3204),
   [#3542](https://github.com/dotnet/SqlClient/pull/3542))
- Updated the following dependencies
  ([#3754](https://github.com/dotnet/SqlClient/pull/3754)):
  - Azure.Core 1.45.0
    (Avoids transitive [vulnerability](https://github.com/Azure/azure-sdk-for-net/issues/44817))
  - Azure.Identity 1.12.1
  - Microsoft.Identity.Client 4.78.0
  

## Target Platform Support

- .NET Framework 4.6.2+ (Windows x86, Windows x64)
- .NET 6.0+ (Windows x86, Windows x64, Windows ARM64, Windows ARM, Linux, macOS)
- .NET Standard 2.0+ (Windows x86, Windows x64, Windows ARM64, Windows ARM, Linux, macOS)

## Dependencies

### .NET Framework

- Azure.Core 1.45.0
- Azure.Identity 1.12.1
- Microsoft.Data.SqlClient.SNI 5.1.2
- Microsoft.Identity.Client 4.78.0
- Microsoft.IdentityModel.JsonWebTokens 6.35.0
- Microsoft.IdentityModel.Protocols.OpenIdConnect 6.35.0
- System.Buffers 4.5.1
- System.Configuration.ConfigurationManager 6.0.1
- System.Runtime.InteropServices.RuntimeInformation 4.3.0
- System.Text.Encoding.Web 6.0.1
- System.Text.Json 6.0.11

### .NET

- Azure.Core 1.45.0
- Azure.Identity 1.12.1
- Microsoft.Data.SqlClient.SNI 5.1.2
- Microsoft.Identity.Client 4.78.0
- Microsoft.IdentityModel.JsonWebTokens 6.35.0
- Microsoft.IdentityModel.Protocols.OpenIdConnect 6.35.0
- Microsoft.SqlServer.Server 1.0.0
- System.Configuration.ConfigurationManager 6.0.1
- System.Diagnostics.DiagnosticSource 6.0.1
- System.Runtime.Caching 6.0.0
- System.Text.Encoding.CodePages 6.0.0
- System.Text.Encodings.Web 6.0.1
- System.Security.Cryptography.Cng 5.0.0
- System.Security.Principal.Windows 5.0.0

### .NET Standard

- Azure.Core 1.45.0
- Azure.Identity 1.12.1
- Microsoft.Data.SqlClient.SNI 5.1.2
- Microsoft.Identity.Client 4.78.0
- Microsoft.IdentityModel.JsonWebTokens 6.35.0
- Microsoft.IdentityModel.Protocols.OpenIdConnect 6.35.0
- Microsoft.SqlServer.Server 1.0.0
- Microsoft.Win32.Registry 5.0.0
- System.Buffers 4.5.1
- System.Configuration.ConfigurationManager 6.0.1
- System.Runtime.Caching 6.0.0
- System.Text.Encoding.CodePages 6.0.0
- System.Text.Encodings.Web 6.0.1
- System.Runtime.Loader 4.3.0
- System.Security.Cryptography.Cng 5.0.0
- System.Security.Principal.Windows 5.0.0
