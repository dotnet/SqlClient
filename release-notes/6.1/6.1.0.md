# Release Notes

## Stable Release 6.1.0 - 2025-08-05

This update brings the following changes since the
[6.1.0-preview2](6.1.0-preview2.md) release:

### Added

No new features were added.

### Fixed

- Fixed missing socket error codes on non-Windows platforms.
  ([#3475](https://github.com/dotnet/SqlClient/pull/3475))
- Fixed primary/secondary server SPN handling during SSPI negotiation.
  ([#3478](https://github.com/dotnet/SqlClient/pull/3478))
- Fixed AzureKeyVaultProvider package key caching to seralize Azure key fetch
  operations.
  ([#3477](https://github.com/dotnet/SqlClient/pull/3477))
- Fixed a rare error related to multi-packet async text reads.
  ([#3474](https://github.com/dotnet/SqlClient/pull/3474))
- Fixed some spelling errors in the API docs.
  ([#3500](https://github.com/dotnet/SqlClient/pull/3500))

### Changed

#### SqlDecimal type workarounds conversions

*What Changed:*

- Changed how SqlDecimal type workarounds perform conversions to meet
  compliance policies.
  ([#3467](https://github.com/dotnet/SqlClient/pull/3467))

*Who Benefits:*

- Microsoft products must not use undocumented APIs on other Microsoft products.
  This change removes calls to undocumented APIs and replaces them with
  compliant API use.

*Impact:*

- These changes impose an observed 5% decrease in performance on .NET Framework.

#### SqlVector API improvements

*What Changed:*

- Several changes were made to the SqlVector API published in the
  [6.1.0-preview2](6.1.0-preview2.md) release
  ([#3472](https://github.com/dotnet/SqlClient/pull/3472)):
  - The SqlVector class was changed to a readonly struct.
  - The null value constructor was changed to a static `CreateNull()` method.
  - The `Size` property was removed.

*Who Benefits:*

- SqlVector instances gain the efficiencies of struct handling.

*Impact:*

- Early-adopter applications may require updates if they rely on the old APIs
  and any class-specific behaviour.

## Contributors

We thank the following public contributors. Their efforts toward this project
are very much appreciated.

- [twsouthwick](https://github.com/twsouthwick)
- [Wraith2](https://github.com/Wraith2)

## Target Platform Support

- .NET Framework 4.6.2+ (Windows ARM64, Windows x86, Windows x64)
- .NET 8.0+ (Windows x86, Windows x64, Windows ARM64, Windows ARM, Linux, macOS)

### Dependencies

#### .NET Standard 2.0

- Azure.Identity 1.13.2
- Microsoft.Bcl.Cryptography 9.0.4
- Microsoft.Data.SqlClient.SNI.runtime 6.0.2
- Microsoft.Extensions.Caching.Memory 9.0.4
- Microsoft.IdentityModel.JsonWebTokens 7.7.1
- Microsoft.IdentityModel.Protocols.OpenIdConnect 7.7.1
- Microsoft.SqlServer.Server 1.0.0
- System.Configuration.ConfigurationManager 9.0.4
- System.Security.Cryptography.Pkcs 9.0.4
- System.Text.Json 9.0.5

#### .NET Framework 4.6.2+

- Azure.Identity 1.13.2
- Microsoft.Bcl.Cryptography 8.0.0
- Microsoft.Data.SqlClient.SNI 6.0.2
- Microsoft.Extensions.Caching.Memory 8.0.1
- Microsoft.IdentityModel.JsonWebTokens 7.7.1
- Microsoft.IdentityModel.Protocols.OpenIdConnect 7.7.1
- System.Buffers 4.5.1
- System.Data.Common 4.3.0
- System.Security.Cryptography.Pkcs 8.0.1
- System.Text.Encodings.Web 8.0.0
- System.Text.Json 8.0.5

#### .NET 8.0

- Azure.Identity 1.13.2
- Microsoft.Bcl.Cryptography 8.0.0
- Microsoft.Data.SqlClient.SNI.runtime 6.0.2
- Microsoft.Extensions.Caching.Memory 8.0.1
- Microsoft.IdentityModel.JsonWebTokens 7.7.1
- Microsoft.IdentityModel.Protocols.OpenIdConnect 7.7.1
- Microsoft.SqlServer.Server 1.0.0
- System.Configuration.ConfigurationManager 8.0.1
- System.Security.Cryptography.Pkcs 8.0.1
- System.Text.Json 8.0.5

#### .NET 9.0

- Azure.Identity 1.13.2
- Microsoft.Bcl.Cryptography 9.0.4
- Microsoft.Data.SqlClient.SNI.runtime 6.0.2
- Microsoft.Extensions.Caching.Memory 9.0.4
- Microsoft.IdentityModel.JsonWebTokens 7.7.1
- Microsoft.IdentityModel.Protocols.OpenIdConnect 7.7.1
- Microsoft.SqlServer.Server 1.0.0
- System.Configuration.ConfigurationManager 9.0.4
- System.Security.Cryptography.Pkcs 9.0.4
- System.Text.Json 9.0.5
