# Release Notes

## [Stable release 6.0.5] - 2026-01-15

This update brings the below changes over the previous stable release:

### Fixed

- Fixed NullReferenceException issue with `SqlDataAdapter` when processing batch scenarios where certain SQL RPC calls may not include system parameters.
  ([#3878](https://github.com/dotnet/SqlClient/pull/3878))

### Added

*What Changed:*

- Added new AppContext switch `Switch.Microsoft.Data.SqlClient.EnableMultiSubnetFailoverByDefault` to set `MultiSubnetFailover=true` by default in connection string.
  ([#3852](https://github.com/dotnet/SqlClient/pull/3852))

*Who Benefits:*

- Applications that need MultiSubnetFailover enabled globally without modifying connection strings.

*Impact:*

- Applications can now enable MultiSubnetFailover globally using one of the following methods:

```c#
// In application code
AppContext.SetSwitch("Switch.Microsoft.Data.SqlClient.EnableMultiSubnetFailoverByDefault", true);
```

```json
// In runtimeconfig.json
{
  "configProperties": {
    "Switch.Microsoft.Data.SqlClient.EnableMultiSubnetFailoverByDefault": true
  }
}
```

```xml
<!-- In App.Config -->
<runtime>
  <AppContextSwitchOverrides value="Switch.Microsoft.Data.SqlClient.EnableMultiSubnetFailoverByDefault=true" />
</runtime>
```


## Target Platform Support

- .NET Framework 4.6.2+ (Windows ARM64, Windows x64, Windows x86)
- .NET 8.0+ (Linux, macOS, Windows ARM64, Windows x64, Windows x86)

### Dependencies

#### .NET Framework

- Azure.Core 1.50.0
- Azure.Identity 1.17.1
- Microsoft.Data.SqlClient.SNI 6.0.2
- Microsoft.Extensions.Caching.Memory 8.0.1
- Microsoft.Identity.Client 4.80.0
- Microsoft.IdentityModel.JsonWebTokens 7.7.1
- Microsoft.IdentityModel.Protocols.OpenIdConnect 7.7.1
- System.Buffers 4.6.1
- System.Security.Cryptography.Pkcs 8.0.1
- System.Text.Json 8.0.6

#### .NET 8

- Azure.Core 1.50.0
- Azure.Identity 1.17.1
- Microsoft.Data.SqlClient.SNI.runtime 6.0.2
- Microsoft.Extensions.Caching.Memory 8.0.1
- Microsoft.Identity.Client 4.80.0
- Microsoft.IdentityModel.JsonWebTokens 7.7.1
- Microsoft.IdentityModel.Protocols.OpenIdConnect 7.7.1
- Microsoft.SqlServer.Server 1.0.0
- System.Configuration.ConfigurationManager 8.0.1
- System.Security.Cryptography.Pkcs 8.0.1

#### .NET 9

- Azure.Core 1.50.0
- Azure.Identity 1.17.1
- Microsoft.Data.SqlClient.SNI.runtime 6.0.2
- Microsoft.Extensions.Caching.Memory 9.0.11
- Microsoft.Identity.Client 4.80.0
- Microsoft.IdentityModel.JsonWebTokens 7.7.1
- Microsoft.IdentityModel.Protocols.OpenIdConnect 7.7.1
- Microsoft.SqlServer.Server 1.0.0
- System.Configuration.ConfigurationManager 9.0.4
- System.Security.Cryptography.Pkcs 9.0.4
