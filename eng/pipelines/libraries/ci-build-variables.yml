#################################################################################
# Licensed to the .NET Foundation under one or more agreements.                 #
# The .NET Foundation licenses this file to you under the MIT license.          #
# See the LICENSE file in the project root for more information.                #
#################################################################################

# This file is only included in PR and CI pipelines for the Abstractions, AKV,
# Azure, Logging, and MDS projects.

variables:
  - group: 'ADO Build properties'
  - group: 'ADO Test Configuration Properties'

  # Abstractions library assembly file version
  - name: abstractionsAssemblyFileVersion
    value: 1.0.0.$(assemblyBuildNumber)

  # Abstractions library NuGet package version
  - name: abstractionsPackageVersion
    value: 1.0.0.$(buildNumber)-ci

  # AKV provider assembly file version
  - name: akvAssemblyFileVersion
    value: 7.0.0.$(assemblyBuildNumber)

  # AKV provider NuGet package version
  - name: akvPackageVersion
    value: 7.0.0.$(buildNumber)-ci

  # Assembly build number derived from the pipeline build number
  - name: assemblyBuildNumber
    value: $(buildNumber)

  # Azure library assembly file version
  - name: azureAssemblyFileVersion
    value: 1.0.0.$(assemblyBuildNumber)

  # Azure library NuGet package version
  - name: azurePackageVersion
    value: 1.0.0.$(buildNumber)-ci

  # Pipeline build number used for versioning
  - name: buildNumber
    value: '$(Build.BuildNumber)'

  # Logging library assembly file version
  - name: loggingAssemblyFileVersion
    value: 1.0.0.$(assemblyBuildNumber)

  # Logging library NuGet package version
  - name: loggingPackageVersion
    value: 1.0.0.$(buildNumber)-ci

  # MDS library assembly file version
  - name: mdsAssemblyFileVersion
    value: 7.0.0.$(assemblyBuildNumber)

  # MDS library NuGet package version
  - name: mdsPackageVersion
    value: 7.0.0.$(buildNumber)-ci

  # Output path for built NuGet packages
  - name: packagePath
    value: '$(Build.SourcesDirectory)/packages'

  # Disable codesign validation injection for CI builds
  - name: runCodesignValidationInjection
    value: false

  # Skip component governance detection for CI builds
  - name: skipComponentGovernanceDetection
    value: true

  # SQL Server target host for testing
  - name: SQLTarget
    value: 'localhost'
