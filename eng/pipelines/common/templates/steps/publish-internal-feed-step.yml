#################################################################################
# Licensed to the .NET Foundation under one or more agreements.                 #
# The .NET Foundation licenses this file to you under the MIT license.          #
# See the LICENSE file in the project root for more information.                #
#################################################################################
parameters:
  - name: dryRun
    type: boolean
    default: true

  - name: internalFeedSource
    type: string
    
  - name: packagesGlob
    type: string
    default: '$(System.DefaultWorkingDirectory)/_dotnet-sqlclient-Official/drop_buildMDS_build_signed_package/*.nupkg'

steps:
- script: |
    pwsh ./tools/scripts/publishPackagesToFeed.ps1 `
      -dryRun ${{ parameters.dryRun }} `
      -internalFeedSource '${{ parameters.internalFeedSource }}' `
      -packagesGlob '${{ parameters.packagesGlob }}'
  displayName: 'Publish to Internal Feed'
