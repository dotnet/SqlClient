<?xml version="1.0" encoding="utf-8"?>
<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">

  <!-- Common Package Properties -->
  <PropertyGroup>
    <BuildNumber Condition="'$(BuildNumber)' == ''">0</BuildNumber>
  </PropertyGroup>

  <!-- SqlServer Package Properties -->
  <PropertyGroup>
    <!-- This version section corresponds to version info of Microsoft.SqlServer.Server Assembly. -->
    <!-- Should only be changed in future when a non-backwards compatible driver is released. -->
    <!-- Future Assembly Version values shall be Major.Minor.0.0; e.g. 1.0.0.0 -->
    <SqlServerAssemblyVersion>1.0.0.0</SqlServerAssemblyVersion>
    <SqlServerAssemblyFileVersion Condition="'$(SqlServerAssemblyFileVersion)' == ''">1.0.0.0</SqlServerAssemblyFileVersion>
    <SqlServerPackageVersion Condition="'$(SqlServerPackageVersion)' == ''">1.0.0-dev</SqlServerPackageVersion>
    <SqlServerLibVersion>$(SqlServerPackageVersion)</SqlServerLibVersion>
  </PropertyGroup>

  <!-- MDS Package Properties -->
  <PropertyGroup>
    <MdsVersionDefault>7.0.0</MdsVersionDefault>

    <MdsPackageVersion Condition="'$(MdsPackageVersion)' == ''">$(MdsVersionDefault).$(BuildNumber)-dev</MdsPackageVersion>

    <!--
      TODO: The remaining properties in this group should be renamed to be
      specific to MDS, and then used in the MDS project.  As-is, these names are
      used by the build tooling and may be unintentionally included in other
      (non-MDS) projects.

      For example, the AKV package uses the AssemblyVersion, FileVersion, and
      Version as its own.  It currently isn't possible to build/package both
      MDS and AKV at the same time.
    -->

    <!--
      GOTCHA: These two Assembly properties must appear in the third
      <PropertyGroup> in this file due to hardcoded XML processing in:

      eng/pipelines/common/templates/jobs/validate-signed-package-job.yml
    -->
    <AssemblyFileVersion Condition="'$(AssemblyFileVersion)' == ''">$(MdsVersionDefault).$(BuildNumber)</AssemblyFileVersion>
    
    <!-- Only update the major version number here. -->
    <AssemblyVersion>7.0.0.0</AssemblyVersion>

    <FileVersion>$(AssemblyFileVersion)</FileVersion>
    
    <!--
      GOTCHA: This pollutes the AssemblyInfo.cs AssemblyInformationalVersion
      attribute's value generated by the build tooling for all projects!
    -->
    <Version>$(MdsPackageVersion)</Version>
  </PropertyGroup>

  <!-- AKV Package Properties -->
  <PropertyGroup>
    <AkvVersionDefault>7.0.0</AkvVersionDefault>
    <AkvPackageVersion Condition="'$(AkvPackageVersion)' == ''">$(AkvVersionDefault).$(BuildNumber)-dev</AkvPackageVersion>
  </PropertyGroup>
</Project>
